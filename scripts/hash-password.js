#!/usr/bin/env node

/**
 * ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ãƒãƒƒã‚·ãƒ¥åŒ–ã™ã‚‹ãƒ˜ãƒ«ãƒ‘ãƒ¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
 * ä½¿ç”¨æ–¹æ³•: node scripts/hash-password.js <ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰>
 */

const bcrypt = require("bcryptjs");

const password = process.argv[2];

if (!password) {
  console.error("ä½¿ç”¨æ–¹æ³•: node scripts/hash-password.js <ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰>");
  process.exit(1);
}

bcrypt
  .hash(password, 10)
  .then((hash) => {
    console.log("\nâœ… ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®ãƒãƒƒã‚·ãƒ¥åŒ–ãŒå®Œäº†ã—ã¾ã—ãŸ\n");
    console.log("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");
    console.log("ğŸ“ è¨­å®šæ–¹æ³•:");
    console.log("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");
    console.log("\n1. .env.local ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã");
    console.log("2. ä»¥ä¸‹ã®è¡Œã‚’è¿½åŠ ã¾ãŸã¯æ›´æ–°:");
    console.log("\n   æ–¹æ³•1ï¼ˆæ¨å¥¨ï¼‰: å¼•ç”¨ç¬¦ã§å›²ã‚€");
    console.log("   HASHED_PASSWORD=\"" + hash + "\"");
    console.log("\n   æ–¹æ³•2: ãã®ã¾ã¾è¨­å®šï¼ˆ$ãŒå«ã¾ã‚Œã‚‹å ´åˆã¯å¼•ç”¨ç¬¦æ¨å¥¨ï¼‰");
    console.log("   HASHED_PASSWORD=" + hash);
    console.log("\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");
    console.log("âš ï¸  é‡è¦:");
    console.log("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");
    console.log("â€¢ ãƒãƒƒã‚·ãƒ¥ã¯ $ ã§å§‹ã¾ã‚‹ãŸã‚ã€å¼•ç”¨ç¬¦ã§å›²ã‚€ã“ã¨ã‚’æ¨å¥¨ã—ã¾ã™");
    console.log("â€¢ ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã—ãŸå¾Œã¯ã€é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’å†èµ·å‹•ã—ã¦ãã ã•ã„");
    console.log("â€¢ ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã«ã¯ã€å…ƒã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼ˆãƒãƒƒã‚·ãƒ¥åŒ–å‰ï¼‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");
    console.log("â€¢ ã“ã®ãƒãƒƒã‚·ãƒ¥åŒ–ã•ã‚ŒãŸå€¤ã¯ .env.local ã«è¨­å®šã™ã‚‹ã ã‘ã§ã€");
    console.log("  ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã«ã¯å…¥åŠ›ã—ãªã„ã§ãã ã•ã„");
    console.log("\n");
  })
  .catch((error) => {
    console.error("ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ:", error);
    process.exit(1);
  });

